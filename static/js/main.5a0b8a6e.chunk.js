(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{100:function(e,a,t){},114:function(e,a,t){},115:function(e,a,t){"use strict";t.r(a);var n=t(0),o=t.n(n),r=t(10),c=t.n(r),l=(t(100),t(12)),i=t(159),s=t(161),u=t(158),m=t(172),d=t(162),p=t(73),h=t.n(p),f=t(117),g=t(157),E=t(40),b=t(116),v=t(16),w=Object(b.a)(function(e){return{"@global":{body:{backgroundColor:e.palette.common.white}},paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)},card:{minWidth:275,marginTop:10},bullet:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)"},title:{fontSize:14},pos:{marginBottom:12},root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},titleAppBar:Object(E.a)({flexGrow:1,display:"none"},e.breakpoints.up("sm"),{display:"block"}),search:Object(E.a)({position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(v.c)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(v.c)(e.palette.common.white,.25)},marginLeft:0,width:"100%"},e.breakpoints.up("sm"),{marginLeft:e.spacing(1),width:"auto"}),searchIcon:{width:e.spacing(7),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit"},inputInput:Object(E.a)({padding:e.spacing(1,1,1,7),transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("sm"),{width:120,"&:focus":{width:200}}),close:{padding:e.spacing(.5)}}}),k="Username / Password Incorrect",y="We are experiencing some problems. Please try again later",S="This username has already been taken. Please try another",C="Username and password must not be blank!",O="Password not the same!",j="Todo successfully updated!",M="Todo successfully deleted!",T="Todo successfully added!",B="Seems you don't have any todos. Start creating now by click the + button!",x="/",W="/signup",I="/home",N="https://cors-anywhere.herokuapp.com/https://spring-todo-backend-server.herokuapp.com";function D(e){fetch(N+"/api/v1/todo",{method:"GET",headers:{Authorization:localStorage.getItem("token")}}).then(function(a){return A(a,e),a.json()}).then(function(a){a&&(e.setTodos(a),0===a.length&&e.showSnackMessage(B))})}function P(e,a,t,n){var o=new URLSearchParams;o.append("username",e),o.append("password",a),fetch(N+"/api/v1/authenticate",{method:"POST",body:o}).then(function(e){A(e,n),e.ok?e.headers.forEach(function(e,a){"authorization"===a&&(localStorage.setItem("token",e),t.history.push(I))}):401===e.status&&n.showSnackMessage(k)}).catch(function(e){console.log(e)})}function A(e,a){if(500===e.status)return a.showSnackMessage(y)}var U=t(83),z=Object(U.a)(o.a,{todos:[],showCustomModal:!1,customModalBody:"",customModalTitle:"",showSnackBar:!1,snarkBarMessage:""},{setTodos:function(e,a){e.setState({todos:a})},setCustomModalBody:function(e,a){e.setState({customModalBody:a})},setCustomModalTitle:function(e,a){e.setState({customModalTitle:a})},openDialog:function(e){e.setState({showCustomModal:!0})},closeDialog:function(e){e.setState({showCustomModal:!1})},closeSnackBar:function(e){e.setState({showSnackBar:!1})},showSnackMessage:function(e,a){e.setState({snarkBarMessage:a,showSnackBar:!0})}}),R=t(31);function q(e){var a=w(),t=z(),r=Object(l.a)(t,2),c=(r[0],r[1]),p=Object(n.useState)(""),E=Object(l.a)(p,2),b=E[0],v=E[1],k=Object(n.useState)(""),y=Object(l.a)(k,2),S=y[0],C=y[1];return o.a.createElement(g.a,{component:"main",maxWidth:"xs"},o.a.createElement(u.a,null),o.a.createElement("div",{className:a.paper},o.a.createElement(i.a,{className:a.avatar},o.a.createElement(h.a,null)),o.a.createElement(f.a,{component:"h1",variant:"h5"},"Sign In"),o.a.createElement("form",{className:a.form,noValidate:!0},o.a.createElement(m.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"username",label:"Username",name:"username",autoComplete:"username",autoFocus:!0,onChange:function(e){return v(e.target.value)}}),o.a.createElement(m.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",onChange:function(e){return C(e.target.value)}}),o.a.createElement(s.a,{fullWidth:!0,variant:"contained",color:"primary",className:a.submit,onClick:function(a){return P(b,S,e,c)}},"Sign In"),o.a.createElement(d.a,{container:!0},o.a.createElement(d.a,{item:!0},o.a.createElement(R.b,{to:W,variant:"body2"},"Don't have an account? Sign Up"))))))}var J=t(169),L=t(170),F=t(171),G=t(79),Y=t.n(G),V=t(80),H=t.n(V),$=t(167),K=t(165),Q=t(166),X=t(176),Z=t(75),_=t.n(Z),ee=t(76),ae=t.n(ee),te=t(77),ne=t.n(te),oe=t(164),re=t(163);function ce(){var e=z(),a=Object(l.a)(e,2),t=(a[0],a[1]),r=Object(n.useState)(""),c=Object(l.a)(r,2),i=c[0],u=c[1],d=function(){!function(e,a){fetch(N+"/api/v1/todo",{method:"POST",headers:{"Content-Type":"application/json",Authorization:localStorage.getItem("token")},body:JSON.stringify({contents:e})}).then(function(e){A(e,a),e.ok&&(D(a),a.showSnackMessage(T))})}(i,t),t.closeDialog()};return o.a.createElement("div",null,o.a.createElement(re.a,null,o.a.createElement(m.a,{autoFocus:!0,margin:"dense",id:"content",label:"Content",type:"text",fullWidth:!0,multiline:!0,onChange:function(e){return u(e.target.value)}})),o.a.createElement(oe.a,null,o.a.createElement(s.a,{onClick:function(e){return t.closeDialog()},color:"primary"},"Cancel"),o.a.createElement(s.a,{onClick:function(e){return d()},color:"primary"},"Add")))}var le=t(29);var ie=Object(le.e)(function(e){var a=w(),t=z(),n=Object(l.a)(t,2),r=(n[0],n[1]);return o.a.createElement("div",{className:a.root},o.a.createElement(K.a,{position:"static"},o.a.createElement(Q.a,null,o.a.createElement(f.a,{className:a.titleAppBar,variant:"h6",noWrap:!0},"Material-UI Todo"),o.a.createElement("div",{className:a.search},o.a.createElement("div",{className:a.searchIcon},o.a.createElement(_.a,null)),o.a.createElement(X.a,{placeholder:"Search\u2026",classes:{root:a.inputRoot,input:a.inputInput},inputProps:{"aria-label":"Search"},onChange:function(e){return function(e,a){e?fetch(N+"/api/v1/todo/search/"+e,{method:"GET",headers:{Authorization:localStorage.getItem("token")}}).then(function(e){return A(e,a),e.json()}).then(function(e){e&&a.setTodos(e)}):D(a)}(e.target.value,r)}})),o.a.createElement($.a,{"aria-label":"add a new todo","aria-controls":"menu-appbar","aria-haspopup":"true",color:"inherit",onClick:function(e){return r.setCustomModalTitle("Add todo"),r.setCustomModalBody(o.a.createElement(ce,null)),void r.openDialog()}},o.a.createElement(ae.a,null)),o.a.createElement($.a,{"aria-label":"add a new todo","aria-controls":"menu-appbar","aria-haspopup":"true",color:"inherit",onClick:function(a){return localStorage.removeItem("token"),void e.history.push(x)}},o.a.createElement(ne.a,null)))))}),se=t(175),ue=t(168);function me(e){var a=z(),t=Object(l.a)(a,2),n=t[0],r=t[1];return o.a.createElement("div",null,o.a.createElement(se.a,{open:n.showCustomModal,onClose:function(e){return r.closeDialog()},"aria-labelledby":"form-dialog-title",fullWidth:!0,maxWidth:"md"},o.a.createElement(ue.a,{id:"form-dialog-title"},n.customModalTitle),n.customModalBody))}function de(e){var a=Object(n.useState)(e.todo.content),t=Object(l.a)(a,2),r=t[0],c=t[1],i=z(),u=Object(l.a)(i,2),d=(u[0],u[1]),p=function(){!function(e,a,t){fetch(N+"/api/v1/todo/"+e,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:localStorage.getItem("token")},body:JSON.stringify({contents:a})}).then(function(e){A(e,t),e.ok&&(D(t),t.showSnackMessage(j))})}(e.todo.id,r,d),d.closeDialog()};return o.a.createElement("div",null,o.a.createElement(re.a,null,o.a.createElement(m.a,{autoFocus:!0,margin:"dense",id:"content",label:"Content",type:"text",fullWidth:!0,value:r,multiline:!0,onChange:function(e){return c(e.target.value)}})),o.a.createElement(oe.a,null,o.a.createElement(s.a,{onClick:function(e){return d.closeDialog()},color:"primary"},"Cancel"),o.a.createElement(s.a,{onClick:function(e){return p()},color:"primary"},"Update")))}var pe=t(78),he=t.n(pe);function fe(){var e=z(),a=Object(l.a)(e,2),t=a[0],r=a[1],c=w();Object(n.useEffect)(function(){D(r)},[]);var i=t.todos.map(function(e){return o.a.createElement(J.a,{key:e.id,className:c.card},o.a.createElement(L.a,null,o.a.createElement(f.a,{className:c.title,color:"textSecondary",gutterBottom:!0},he()(new Date(e.createdDate)).format("MMMM Do YYYY, h:mm:ss")),o.a.createElement(f.a,{variant:"body2",component:"p"},e.content)),o.a.createElement(F.a,{disableSpacing:!0},o.a.createElement($.a,{onClick:function(a){return t=e,r.setCustomModalTitle("Update Todo"),r.setCustomModalBody(o.a.createElement(de,{todo:t})),void r.openDialog();var t}},o.a.createElement(Y.a,{color:"primary"})),o.a.createElement($.a,{onClick:function(a){return function(e,a){fetch(N+"/api/v1/todo/"+e,{method:"DELETE",headers:{Authorization:localStorage.getItem("token")}}).then(function(e){A(e,a),e.ok&&(D(a),a.showSnackMessage(M))})}(e.id,r)}},o.a.createElement(H.a,{color:"error"}))))});return o.a.createElement("div",null,o.a.createElement(me,null),o.a.createElement(ie,null),o.a.createElement(g.a,{component:"main",maxWidth:"sm"},i))}var ge=t(81),Ee=t.n(ge);function be(e){var a=w(),t=Object(n.useState)(""),r=Object(l.a)(t,2),c=r[0],p=r[1],h=Object(n.useState)(""),E=Object(l.a)(h,2),b=E[0],v=E[1],k=Object(n.useState)(""),y=Object(l.a)(k,2),j=y[0],M=y[1],T=z(),B=Object(l.a)(T,2),W=(B[0],B[1]);return o.a.createElement(g.a,{component:"main",maxWidth:"xs"},o.a.createElement(u.a,null),o.a.createElement("div",{className:a.paper},o.a.createElement(i.a,{className:a.avatar},o.a.createElement(Ee.a,null)),o.a.createElement(f.a,{component:"h1",variant:"h5"},"Sign Up"),o.a.createElement("form",{className:a.form,noValidate:!0},o.a.createElement(m.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"username",label:"Username",name:"username",autoComplete:"username",autoFocus:!0,onChange:function(e){return p(e.target.value)}}),o.a.createElement(m.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",onChange:function(e){return v(e.target.value)}}),o.a.createElement(m.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"confirmPassword",label:"Confirm Password",type:"password",id:"confirmPassword",autoComplete:"confirm-password",onChange:function(e){return M(e.target.value)}}),o.a.createElement(s.a,{fullWidth:!0,variant:"contained",color:"primary",className:a.submit,onClick:function(a){return function(e,a,t,n,o){return e&&a?a!==t?o.showSnackMessage(O):void fetch(N+"/api/v1/user",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e,password:a})}).then(function(t){A(t,o),t.ok?P(e,a,n,o):400===t.status&&o.showSnackMessage(S)}).catch(function(e){return console.log(e)}):o.showSnackMessage(C)}(c,b,j,e,W)}},"Create Account"),o.a.createElement(d.a,{container:!0},o.a.createElement(d.a,{item:!0},o.a.createElement(R.b,{to:x,variant:"body2"},"Already have an account? Log in"))))))}var ve=t(174),we=t(82),ke=t.n(we);function ye(){var e=w(),a=z(),t=Object(l.a)(a,2),n=t[0],r=t[1];return o.a.createElement("div",null,o.a.createElement(ve.a,{anchorOrigin:{vertical:"bottom",horizontal:"center"},open:n.showSnackBar,autoHideDuration:3e3,onClose:function(e){return r.closeSnackBar()},ContentProps:{"aria-describedby":"message-id"},message:o.a.createElement("span",{id:"message-id"},n.snarkBarMessage),action:[o.a.createElement($.a,{key:"close","aria-label":"Close",color:"inherit",className:e.close,onClick:function(e){return r.closeSnackBar()}},o.a.createElement(ke.a,null))]}))}t(114);var Se=function(){return o.a.createElement("div",null,o.a.createElement(R.a,{basename:"/"},o.a.createElement(le.a,{exact:!0,path:x,component:q}),o.a.createElement(le.a,{exact:!0,path:W,component:be}),o.a.createElement(le.a,{exact:!0,path:I,component:fe})),o.a.createElement(ye,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(o.a.createElement(Se,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},95:function(e,a,t){e.exports=t(115)}},[[95,1,2]]]);
//# sourceMappingURL=main.5a0b8a6e.chunk.js.map