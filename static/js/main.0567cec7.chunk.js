(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{102:function(e,a,t){},116:function(e,a,t){},117:function(e,a,t){"use strict";t.r(a);var n=t(0),o=t.n(n),r=t(10),c=t.n(r),l=(t(102),t(12)),i=t(161),s=t(163),u=t(160),m=t(174),d=t(164),p=t(75),h=t.n(p),f=t(119),g=t(159),E=t(38),b=t(118),v=t(15),w=Object(b.a)(function(e){return{"@global":{body:{backgroundColor:e.palette.common.white}},paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)},card:{minWidth:275,marginTop:10},bullet:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)"},title:{fontSize:14},pos:{marginBottom:12},root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},titleAppBar:Object(E.a)({flexGrow:1,display:"none"},e.breakpoints.up("sm"),{display:"block"}),search:Object(E.a)({position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(v.c)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(v.c)(e.palette.common.white,.25)},marginLeft:0,width:"100%"},e.breakpoints.up("sm"),{marginLeft:e.spacing(1),width:"auto"}),searchIcon:{width:e.spacing(7),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit"},inputInput:Object(E.a)({padding:e.spacing(1,1,1,7),transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("sm"),{width:120,"&:focus":{width:200}}),close:{padding:e.spacing(.5)}}}),k="Username / Password Incorrect",y="We are experiencing some problems. Please try again later",C="This username has already been taken. Please try another",S="Username and password must not be blank!",O="Password not the same!",j="Todo successfully updated!",M="Todo successfully deleted!",T="Todo successfully added!",B="Seems you don't have any todos. Start creating now by click the + button!",x="/",W="/signup",I="/home";function N(e){fetch("/api/v1/todo",{method:"GET",withCredentials:!0,credentials:"include",headers:{Authorization:localStorage.getItem("token")}}).then(function(a){return P(a,e),a.json()}).then(function(a){a&&(e.setTodos(a),0===a.length&&e.showSnackMessage(B))})}function D(e,a,t,n){var o=new URLSearchParams;o.append("username",e),o.append("password",a),fetch("/api/v1/authenticate",{method:"POST",body:o}).then(function(e){P(e,n),e.ok?e.headers.forEach(function(e,a){"authorization"===a&&(localStorage.setItem("token",e),t.history.push(I))}):401===e.status&&n.showSnackMessage(k)}).catch(function(e){console.log(e)})}function P(e,a){if(500===e.status)return a.showSnackMessage(y)}var A=t(85),U=Object(A.a)(o.a,{todos:[],showCustomModal:!1,customModalBody:"",customModalTitle:"",showSnackBar:!1,snarkBarMessage:""},{setTodos:function(e,a){e.setState({todos:a})},setCustomModalBody:function(e,a){e.setState({customModalBody:a})},setCustomModalTitle:function(e,a){e.setState({customModalTitle:a})},openDialog:function(e){e.setState({showCustomModal:!0})},closeDialog:function(e){e.setState({showCustomModal:!1})},closeSnackBar:function(e){e.setState({showSnackBar:!1})},showSnackMessage:function(e,a){e.setState({snarkBarMessage:a,showSnackBar:!0})}}),z=t(36);function R(e){var a=w(),t=U(),r=Object(l.a)(t,2),c=(r[0],r[1]),p=Object(n.useState)(""),E=Object(l.a)(p,2),b=E[0],v=E[1],k=Object(n.useState)(""),y=Object(l.a)(k,2),C=y[0],S=y[1];return o.a.createElement(g.a,{component:"main",maxWidth:"xs"},o.a.createElement(u.a,null),o.a.createElement("div",{className:a.paper},o.a.createElement(i.a,{className:a.avatar},o.a.createElement(h.a,null)),o.a.createElement(f.a,{component:"h1",variant:"h5"},"Sign In"),o.a.createElement("form",{className:a.form,noValidate:!0},o.a.createElement(m.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"username",label:"Username",name:"username",autoComplete:"username",autoFocus:!0,onChange:function(e){return v(e.target.value)}}),o.a.createElement(m.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",onChange:function(e){return S(e.target.value)}}),o.a.createElement(s.a,{fullWidth:!0,variant:"contained",color:"primary",className:a.submit,onClick:function(a){return D(b,C,e,c)}},"Sign In"),o.a.createElement(d.a,{container:!0},o.a.createElement(d.a,{item:!0},o.a.createElement(z.b,{to:W,variant:"body2"},"Don't have an account? Sign Up"))))))}var q=t(171),J=t(172),L=t(173),F=t(81),G=t.n(F),Y=t(82),V=t.n(Y),H=t(169),$=t(167),K=t(168),Q=t(178),X=t(77),Z=t.n(X),_=t(78),ee=t.n(_),ae=t(79),te=t.n(ae),ne=t(166),oe=t(165);function re(){var e=U(),a=Object(l.a)(e,2),t=(a[0],a[1]),r=Object(n.useState)(""),c=Object(l.a)(r,2),i=c[0],u=c[1],d=function(){!function(e,a){fetch("/api/v1/todo",{method:"POST",withCredentials:!0,headers:{"Content-Type":"application/json",Authorization:localStorage.getItem("token")},body:JSON.stringify({contents:e})}).then(function(e){P(e,a),e.ok&&(N(a),a.showSnackMessage(T))})}(i,t),t.closeDialog()};return o.a.createElement("div",null,o.a.createElement(oe.a,null,o.a.createElement(m.a,{autoFocus:!0,margin:"dense",id:"content",label:"Content",type:"text",fullWidth:!0,multiline:!0,onChange:function(e){return u(e.target.value)}})),o.a.createElement(ne.a,null,o.a.createElement(s.a,{onClick:function(e){return t.closeDialog()},color:"primary"},"Cancel"),o.a.createElement(s.a,{onClick:function(e){return d()},color:"primary"},"Add")))}function ce(e){var a=w(),t=U(),n=Object(l.a)(t,2),r=(n[0],n[1]);return o.a.createElement("div",{className:a.root},o.a.createElement($.a,{position:"static"},o.a.createElement(K.a,null,o.a.createElement(f.a,{className:a.titleAppBar,variant:"h6",noWrap:!0},"Material-UI Todo"),o.a.createElement("div",{className:a.search},o.a.createElement("div",{className:a.searchIcon},o.a.createElement(Z.a,null)),o.a.createElement(Q.a,{placeholder:"Search\u2026",classes:{root:a.inputRoot,input:a.inputInput},inputProps:{"aria-label":"Search"},onChange:function(e){return function(e,a){e?fetch("/api/v1/todo/search/"+e,{method:"GET",withCredentials:!0,headers:{Authorization:localStorage.getItem("token")}}).then(function(e){return P(e,a),e.json()}).then(function(e){e&&a.setTodos(e)}):N(a)}(e.target.value,r)}})),o.a.createElement(H.a,{"aria-label":"add a new todo","aria-controls":"menu-appbar","aria-haspopup":"true",color:"inherit",onClick:function(e){return r.setCustomModalTitle("Add todo"),r.setCustomModalBody(o.a.createElement(re,null)),void r.openDialog()}},o.a.createElement(ee.a,null)),o.a.createElement(H.a,{"aria-label":"add a new todo","aria-controls":"menu-appbar","aria-haspopup":"true",color:"inherit",onClick:function(e){return localStorage.removeItem("token"),void(window.location=x)}},o.a.createElement(te.a,null)))))}var le=t(177),ie=t(170);function se(e){var a=U(),t=Object(l.a)(a,2),n=t[0],r=t[1];return o.a.createElement("div",null,o.a.createElement(le.a,{open:n.showCustomModal,onClose:function(e){return r.closeDialog()},"aria-labelledby":"form-dialog-title",fullWidth:!0,maxWidth:"md"},o.a.createElement(ie.a,{id:"form-dialog-title"},n.customModalTitle),n.customModalBody))}function ue(e){var a=Object(n.useState)(e.todo.content),t=Object(l.a)(a,2),r=t[0],c=t[1],i=U(),u=Object(l.a)(i,2),d=(u[0],u[1]),p=function(){!function(e,a,t){fetch("/api/v1/todo/"+e,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:localStorage.getItem("token")},body:JSON.stringify({contents:a})}).then(function(e){P(e,t),e.ok&&(N(t),t.showSnackMessage(j))})}(e.todo.id,r,d),d.closeDialog()};return o.a.createElement("div",null,o.a.createElement(oe.a,null,o.a.createElement(m.a,{autoFocus:!0,margin:"dense",id:"content",label:"Content",type:"text",fullWidth:!0,value:r,multiline:!0,onChange:function(e){return c(e.target.value)}})),o.a.createElement(ne.a,null,o.a.createElement(s.a,{onClick:function(e){return d.closeDialog()},color:"primary"},"Cancel"),o.a.createElement(s.a,{onClick:function(e){return p()},color:"primary"},"Update")))}var me=t(80),de=t.n(me);function pe(){var e=U(),a=Object(l.a)(e,2),t=a[0],r=a[1],c=w();Object(n.useEffect)(function(){N(r)},[]);var i=t.todos.map(function(e){return o.a.createElement(q.a,{key:e.id,className:c.card},o.a.createElement(J.a,null,o.a.createElement(f.a,{className:c.title,color:"textSecondary",gutterBottom:!0},de()(new Date(e.createdDate)).format("MMMM Do YYYY, h:mm:ss")),o.a.createElement(f.a,{variant:"body2",component:"p"},e.content)),o.a.createElement(L.a,{disableSpacing:!0},o.a.createElement(H.a,{onClick:function(a){return t=e,r.setCustomModalTitle("Update Todo"),r.setCustomModalBody(o.a.createElement(ue,{todo:t})),void r.openDialog();var t}},o.a.createElement(G.a,{color:"primary"})),o.a.createElement(H.a,{onClick:function(a){return function(e,a){fetch("/api/v1/todo/"+e,{method:"DELETE",withCredentials:!0,headers:{Authorization:localStorage.getItem("token")}}).then(function(e){P(e,a),e.ok&&(N(a),a.showSnackMessage(M))})}(e.id,r)}},o.a.createElement(V.a,{color:"error"}))))});return o.a.createElement("div",null,o.a.createElement(se,null),o.a.createElement(ce,null),o.a.createElement(g.a,{component:"main",maxWidth:"sm"},i))}var he=t(28),fe=t(83),ge=t.n(fe);function Ee(e){var a=w(),t=Object(n.useState)(""),r=Object(l.a)(t,2),c=r[0],p=r[1],h=Object(n.useState)(""),E=Object(l.a)(h,2),b=E[0],v=E[1],k=Object(n.useState)(""),y=Object(l.a)(k,2),j=y[0],M=y[1],T=U(),B=Object(l.a)(T,2),W=(B[0],B[1]);return o.a.createElement(g.a,{component:"main",maxWidth:"xs"},o.a.createElement(u.a,null),o.a.createElement("div",{className:a.paper},o.a.createElement(i.a,{className:a.avatar},o.a.createElement(ge.a,null)),o.a.createElement(f.a,{component:"h1",variant:"h5"},"Sign Up"),o.a.createElement("form",{className:a.form,noValidate:!0},o.a.createElement(m.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"username",label:"Username",name:"username",autoComplete:"username",autoFocus:!0,onChange:function(e){return p(e.target.value)}}),o.a.createElement(m.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",onChange:function(e){return v(e.target.value)}}),o.a.createElement(m.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"confirmPassword",label:"Confirm Password",type:"password",id:"confirmPassword",autoComplete:"confirm-password",onChange:function(e){return M(e.target.value)}}),o.a.createElement(s.a,{fullWidth:!0,variant:"contained",color:"primary",className:a.submit,onClick:function(a){return function(e,a,t,n,o){return e&&a?a!==t?o.showSnackMessage(O):void fetch("/api/v1/user",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e,password:a})}).then(function(t){P(t,o),t.ok?D(e,a,n,o):400===t.status&&o.showSnackMessage(C)}).catch(function(e){return console.log(e)}):o.showSnackMessage(S)}(c,b,j,e,W)}},"Create Account"),o.a.createElement(d.a,{container:!0},o.a.createElement(d.a,{item:!0},o.a.createElement(z.b,{to:x,variant:"body2"},"Already have an account? Log in"))))))}var be=t(176),ve=t(84),we=t.n(ve);function ke(){var e=w(),a=U(),t=Object(l.a)(a,2),n=t[0],r=t[1];return o.a.createElement("div",null,o.a.createElement(be.a,{anchorOrigin:{vertical:"bottom",horizontal:"center"},open:n.showSnackBar,autoHideDuration:3e3,onClose:function(e){return r.closeSnackBar()},ContentProps:{"aria-describedby":"message-id"},message:o.a.createElement("span",{id:"message-id"},n.snarkBarMessage),action:[o.a.createElement(H.a,{key:"close","aria-label":"Close",color:"inherit",className:e.close,onClick:function(e){return r.closeSnackBar()}},o.a.createElement(we.a,null))]}))}t(116);var ye=function(){return o.a.createElement("div",null,o.a.createElement(z.a,null,o.a.createElement(he.a,{exact:!0,path:x,component:R}),o.a.createElement(he.a,{exact:!0,path:W,component:Ee}),o.a.createElement(he.a,{exact:!0,path:I,component:pe})),o.a.createElement(ke,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(o.a.createElement(ye,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},97:function(e,a,t){e.exports=t(117)}},[[97,1,2]]]);
//# sourceMappingURL=main.0567cec7.chunk.js.map