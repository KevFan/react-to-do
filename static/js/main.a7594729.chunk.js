(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{101:function(e,a,t){},115:function(e,a,t){},116:function(e,a,t){"use strict";t.r(a);var n=t(0),o=t.n(n),r=t(10),c=t.n(r),i=(t(101),t(12)),l=t(160),s=t(162),u=t(159),m=t(173),d=t(163),p=t(73),h=t.n(p),f=t(118),g=t(158),b=t(40),E=t(117),v=t(16),w=Object(E.a)(function(e){return{"@global":{body:{backgroundColor:e.palette.common.white}},paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)},card:{minWidth:275,marginTop:10},bullet:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)"},title:{fontSize:14},pos:{marginBottom:12},root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},titleAppBar:Object(b.a)({flexGrow:1,display:"none"},e.breakpoints.up("sm"),{display:"block"}),search:Object(b.a)({position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(v.c)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(v.c)(e.palette.common.white,.25)},marginLeft:0,width:"100%"},e.breakpoints.up("sm"),{marginLeft:e.spacing(1),width:"auto"}),searchIcon:{width:e.spacing(7),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit"},inputInput:Object(b.a)({padding:e.spacing(1,1,1,7),transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("sm"),{width:120,"&:focus":{width:200}}),close:{padding:e.spacing(.5)}}}),k="Username / Password Incorrect",y="We are experiencing some problems. Please try again later",S="This username has already been taken. Please try another",C="Username and password must not be blank!",j="Password not the same!",O="Todo successfully updated!",M="Todo successfully deleted!",T="Todo successfully added!",B="Seems you don't have any todos. Start creating now by click the + button!",N="Seems you've been logged out. Sign back in to see your todos !",x="/",I="/signup",W="/home",D="https://cors-anywhere.herokuapp.com/https://spring-todo-backend-server.herokuapp.com";function P(e,a,t){fetch(D+"/api/v1/todo",{method:"GET",headers:{Authorization:localStorage.getItem("token")}}).then(function(e){return U(e,a),e.json()}).then(function(n){z(n,a,t)&&(e(n),0===n.length&&a.showSnackMessage(B))})}function A(e,a,t,n){var o=new URLSearchParams;o.append("username",e),o.append("password",a),fetch(D+"/api/v1/authenticate",{method:"POST",body:o}).then(function(e){U(e,n),e.ok?e.headers.forEach(function(e,a){"authorization"===a&&(localStorage.setItem("token",e),t.history.push(W))}):401===e.status&&n.showSnackMessage(k)}).catch(function(e){console.log(e)})}function U(e,a){if(500===e.status)return a.showSnackMessage(y)}function z(e,a,t){var n=403!==e.status;return n||(t.history.push(x),a.showSnackMessage(N)),n}var R=t(84),q=Object(R.a)(o.a,{showCustomModal:!1,customModalBody:"",customModalTitle:"",showSnackBar:!1,snarkBarMessage:""},{setCustomModalBody:function(e,a){e.setState({customModalBody:a})},setCustomModalTitle:function(e,a){e.setState({customModalTitle:a})},openDialog:function(e){e.setState({showCustomModal:!0})},closeDialog:function(e){e.setState({showCustomModal:!1})},closeSnackBar:function(e){e.setState({showSnackBar:!1})},showSnackMessage:function(e,a){e.setState({snarkBarMessage:a,showSnackBar:!0})}}),J=t(26);function L(e){var a=w(),t=q(),r=Object(i.a)(t,2),c=(r[0],r[1]),p=Object(n.useState)(""),b=Object(i.a)(p,2),E=b[0],v=b[1],k=Object(n.useState)(""),y=Object(i.a)(k,2),S=y[0],C=y[1];return o.a.createElement(g.a,{component:"main",maxWidth:"xs"},o.a.createElement(u.a,null),o.a.createElement("div",{className:a.paper},o.a.createElement(l.a,{className:a.avatar},o.a.createElement(h.a,null)),o.a.createElement(f.a,{component:"h1",variant:"h5"},"Sign In"),o.a.createElement("form",{className:a.form,noValidate:!0},o.a.createElement(m.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"username",label:"Username",name:"username",autoComplete:"username",autoFocus:!0,onChange:function(e){return v(e.target.value)}}),o.a.createElement(m.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",onChange:function(e){return C(e.target.value)}}),o.a.createElement(s.a,{fullWidth:!0,variant:"contained",color:"primary",className:a.submit,onClick:function(a){return A(E,S,e,c)}},"Sign In"),o.a.createElement(d.a,{container:!0},o.a.createElement(d.a,{item:!0},o.a.createElement(J.b,{to:I,variant:"body2"},"Don't have an account? Sign Up"))))))}var F=t(83),G=t(170),Y=t(171),V=t(172),H=t(79),$=t.n(H),K=t(80),Q=t.n(K),X=t(168),Z=t(166),_=t(167),ee=t(177),ae=t(75),te=t.n(ae),ne=t(76),oe=t.n(ne),re=t(77),ce=t.n(re),ie=t(165),le=t(164),se=t(30);var ue=Object(se.e)(function(e){var a=q(),t=Object(i.a)(a,2),r=(t[0],t[1]),c=Object(n.useState)(""),l=Object(i.a)(c,2),u=l[0],d=l[1],p=function(){!function(e,a,t,n){fetch(D+"/api/v1/todo",{method:"POST",headers:{"Content-Type":"application/json",Authorization:localStorage.getItem("token")},body:JSON.stringify({contents:e})}).then(function(e){return U(e,t),e.json()}).then(function(e){z(e,t,n)&&(a(e),t.showSnackMessage(T))})}(u,e.addNewTodo,r,e),r.closeDialog()};return o.a.createElement("div",null,o.a.createElement(le.a,null,o.a.createElement(m.a,{autoFocus:!0,margin:"dense",id:"content",label:"Content",type:"text",fullWidth:!0,multiline:!0,onChange:function(e){return d(e.target.value)}})),o.a.createElement(ie.a,null,o.a.createElement(s.a,{onClick:function(e){return r.closeDialog()},color:"primary"},"Cancel"),o.a.createElement(s.a,{onClick:function(e){return p()},color:"primary"},"Add")))});var me=Object(se.e)(function(e){var a=w(),t=q(),n=Object(i.a)(t,2),r=(n[0],n[1]);return o.a.createElement("div",{className:a.root},o.a.createElement(Z.a,{position:"static"},o.a.createElement(_.a,null,o.a.createElement(f.a,{className:a.titleAppBar,variant:"h6",noWrap:!0},"Material-UI Todo"),o.a.createElement("div",{className:a.search},o.a.createElement("div",{className:a.searchIcon},o.a.createElement(te.a,null)),o.a.createElement(ee.a,{placeholder:"Search\u2026",classes:{root:a.inputRoot,input:a.inputInput},inputProps:{"aria-label":"Search"},onChange:function(a){return function(e,a,t,n){e?fetch(D+"/api/v1/todo/search/"+e,{method:"GET",headers:{Authorization:localStorage.getItem("token")}}).then(function(e){return U(e,t),e.json()}).then(function(e){z(e,t,n)&&a(e)}):P(a,t)}(a.target.value,e.setTodos,r,e)}})),o.a.createElement(X.a,{"aria-label":"add a new todo","aria-controls":"menu-appbar","aria-haspopup":"true",color:"inherit",onClick:function(a){return r.setCustomModalTitle("Add todo"),r.setCustomModalBody(o.a.createElement(ue,{addNewTodo:e.addNewTodo})),void r.openDialog()}},o.a.createElement(oe.a,null)),o.a.createElement(X.a,{"aria-label":"add a new todo","aria-controls":"menu-appbar","aria-haspopup":"true",color:"inherit",onClick:function(a){return localStorage.removeItem("token"),void e.history.push(x)}},o.a.createElement(ce.a,null)))))}),de=t(176),pe=t(169);function he(e){var a=q(),t=Object(i.a)(a,2),n=t[0],r=t[1];return o.a.createElement("div",null,o.a.createElement(de.a,{open:n.showCustomModal,onClose:function(e){return r.closeDialog()},"aria-labelledby":"form-dialog-title",fullWidth:!0,maxWidth:"md"},o.a.createElement(pe.a,{id:"form-dialog-title"},n.customModalTitle),n.customModalBody))}var fe=Object(se.e)(function(e){var a=Object(n.useState)(e.todo.content),t=Object(i.a)(a,2),r=t[0],c=t[1],l=q(),u=Object(i.a)(l,2),d=(u[0],u[1]),p=function(){!function(e,a,t,n,o){fetch(D+"/api/v1/todo/"+e,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:localStorage.getItem("token")},body:JSON.stringify({contents:a})}).then(function(e){return U(e,n),e.json()}).then(function(e){z(e,n,o)&&(t(e),n.showSnackMessage(O))})}(e.todo.id,r,e.updateTodoInState,d,e),d.closeDialog()};return o.a.createElement("div",null,o.a.createElement(le.a,null,o.a.createElement(m.a,{autoFocus:!0,margin:"dense",id:"content",label:"Content",type:"text",fullWidth:!0,value:r,multiline:!0,onChange:function(e){return c(e.target.value)}})),o.a.createElement(ie.a,null,o.a.createElement(s.a,{onClick:function(e){return d.closeDialog()},color:"primary"},"Cancel"),o.a.createElement(s.a,{onClick:function(e){return p()},color:"primary"},"Update")))}),ge=t(78),be=t.n(ge);function Ee(e){var a=q(),t=Object(i.a)(a,2),r=(t[0],t[1]),c=Object(n.useState)([]),l=Object(i.a)(c,2),s=l[0],u=l[1],m=w(),d=function(e){u(s.filter(function(a){return a.id!==e}))},p=function(e){var a=s.findIndex(function(a){return a.id===e.id});s[a]=e,u(s)};Object(n.useEffect)(function(){P(u,r,e)},[]);var h=s.map(function(a){return o.a.createElement(G.a,{key:a.id,className:m.card},o.a.createElement(Y.a,null,o.a.createElement(f.a,{className:m.title,color:"textSecondary",gutterBottom:!0},be()(new Date(a.createdDate)).format("MMMM Do YYYY, h:mm:ss")),o.a.createElement(f.a,{variant:"body2",component:"p"},a.content)),o.a.createElement(V.a,{disableSpacing:!0},o.a.createElement(X.a,{onClick:function(e){return t=a,r.setCustomModalTitle("Update Todo"),r.setCustomModalBody(o.a.createElement(fe,{todo:t,updateTodoInState:p})),void r.openDialog();var t}},o.a.createElement($.a,{color:"primary"})),o.a.createElement(X.a,{onClick:function(t){return function(e,a,t,n){fetch(D+"/api/v1/todo/"+e,{method:"DELETE",headers:{Authorization:localStorage.getItem("token")}}).then(function(o){U(o,t),z(o,t,n)&&(a(e),t.showSnackMessage(M))})}(a.id,d,r,e)}},o.a.createElement(Q.a,{color:"error"}))))});return o.a.createElement("div",null,o.a.createElement(he,null),o.a.createElement(me,{addNewTodo:function(e){u([].concat(Object(F.a)(s),[e]))},setTodos:u}),o.a.createElement(g.a,{component:"main",maxWidth:"sm"},h))}var ve=t(81),we=t.n(ve);function ke(e){var a=w(),t=Object(n.useState)(""),r=Object(i.a)(t,2),c=r[0],p=r[1],h=Object(n.useState)(""),b=Object(i.a)(h,2),E=b[0],v=b[1],k=Object(n.useState)(""),y=Object(i.a)(k,2),O=y[0],M=y[1],T=q(),B=Object(i.a)(T,2),N=(B[0],B[1]);return o.a.createElement(g.a,{component:"main",maxWidth:"xs"},o.a.createElement(u.a,null),o.a.createElement("div",{className:a.paper},o.a.createElement(l.a,{className:a.avatar},o.a.createElement(we.a,null)),o.a.createElement(f.a,{component:"h1",variant:"h5"},"Sign Up"),o.a.createElement("form",{className:a.form,noValidate:!0},o.a.createElement(m.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"username",label:"Username",name:"username",autoComplete:"username",autoFocus:!0,onChange:function(e){return p(e.target.value)}}),o.a.createElement(m.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",onChange:function(e){return v(e.target.value)}}),o.a.createElement(m.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"confirmPassword",label:"Confirm Password",type:"password",id:"confirmPassword",autoComplete:"confirm-password",onChange:function(e){return M(e.target.value)}}),o.a.createElement(s.a,{fullWidth:!0,variant:"contained",color:"primary",className:a.submit,onClick:function(a){return function(e,a,t,n,o){return e&&a?a!==t?o.showSnackMessage(j):void fetch(D+"/api/v1/user",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e,password:a})}).then(function(t){U(t,o),t.ok?A(e,a,n,o):400===t.status&&o.showSnackMessage(S)}).catch(function(e){return console.log(e)}):o.showSnackMessage(C)}(c,E,O,e,N)}},"Create Account"),o.a.createElement(d.a,{container:!0},o.a.createElement(d.a,{item:!0},o.a.createElement(J.b,{to:x,variant:"body2"},"Already have an account? Log in"))))))}var ye=t(175),Se=t(82),Ce=t.n(Se);function je(){var e=w(),a=q(),t=Object(i.a)(a,2),n=t[0],r=t[1];return o.a.createElement("div",null,o.a.createElement(ye.a,{anchorOrigin:{vertical:"bottom",horizontal:"center"},open:n.showSnackBar,autoHideDuration:3e3,onClose:function(e){return r.closeSnackBar()},ContentProps:{"aria-describedby":"message-id"},message:o.a.createElement("span",{id:"message-id"},n.snarkBarMessage),action:[o.a.createElement(X.a,{key:"close","aria-label":"Close",color:"inherit",className:e.close,onClick:function(e){return r.closeSnackBar()}},o.a.createElement(Ce.a,null))]}))}t(115);var Oe=function(){return o.a.createElement("div",null,o.a.createElement(J.a,{basename:"/"},o.a.createElement(se.a,{exact:!0,path:x,component:L}),o.a.createElement(se.a,{exact:!0,path:I,component:ke}),o.a.createElement(se.a,{exact:!0,path:W,component:Ee})),o.a.createElement(je,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(o.a.createElement(Oe,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},96:function(e,a,t){e.exports=t(116)}},[[96,1,2]]]);
//# sourceMappingURL=main.a7594729.chunk.js.map